<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Weekly Assignment 12</title>

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/reset.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/reveal.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/theme/solarized.min.css" id="theme">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/plugin/highlight/monokai.min.css" id="highlight-theme">

		<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
	</head>

	<body>
		<div class="reveal">
			<div class="slides">
				<section data-transition="convex">
					<h3>Visualizing Vega Datasets</h3>
					<p>Michael Patel - Weekly Assignment 12</p>
				</section>

      <section data-transition="convex">
				<section data-transition="zoom">
            <h2>Customizing Appearance</h2>
            <p>This is from the <code><a href="https://github.com/vega/vega-datasets/blob/master/data/sp500-2000.csv" target="_blank" rel="noopener noreferrer">weather.csv</a></code> dataset:</p>
            <div id="vis-line"></div>
            <script type="text/javascript">
            var spec = {
              "width": 800,
              "height": 200,
              "title":{"text":"Precipitaton in Seattle and New York"},
              "data": {
                "url": "https://vega.github.io/vega-datasets/data/weather.csv"
              },
              "mark": {"type":"line", "tooltip":true},
              "encoding": {
                "x": {
                  "field": "date",
                  "type":"nominal",
                  //"sort":"y",
                  "axis":{
                    "labelOverlap":"parity"
                  }
                },
                "y": {
                  "field": "precipitation",
                  "type":"quantitative"
                }
              }
              };
            var opt = {"renderer": "canvas", "actions": false};
            vegaEmbed("#vis-line", spec, opt);
            </script>
            </section>

            <section>
              <h2>Let's change up the chart's appearance to <a href="https://www.colorado.edu/brand/how-use/color">implement Buffs colors and fonts</a>.
            </section>

            <section data-transition="zoom">
              <h3>Establishing a specific style can make your data look more cohesive.</h3>
              <div id="vis-line2"></div>
              <script type="text/javascript">
                var spec = {
                  "background":"#CFB87C",
                  "title": {
                    "text":"Precipitaton by Date",
                  },
                  "width": 800,
                  "height": 200,
                  "config": {
                    "font":"Helvetica"
                  },
                  "data": {
                    "url": "https://vega.github.io/vega-datasets/data/weather.csv"
                  },
                  "mark": {"type":"line", "tooltip":true, "color":"#565A5C"},
                  "encoding": {
                    "x": {
                      "field": "date",
                      "type":"nominal",
                      //"sort":"y",
                      "axis":{
                        "labelOverlap":"parity",
                        "title":"Date"
                      }
                    },
                    "y": {
                      "field": "precipitation",
                      "type":"quantitative",
                      "axis": {
                        "title":"Precipitaton"
                      }
                    }
                  }
                  };
                var opt = {"renderer": "canvas", "actions": false};
                vegaEmbed("#vis-line2", spec, opt);
            </script>
            </section>

            <section>
              <p>Here's a codeblock showing how to implement these customizations.</p>
              <pre><code data-trim class='js' data-line-numbers=2|8-9|14>
                var spec = {
                  "background":"#CFB87C",
                  "title": {
                    "text":"Precipitaton by Date",
                  },
                  "width": 800,
                  "height": 200,
                  "config": {
                    "font":"Helvetica"
                  },
                  "data": {
                    "url": "https://vega.github.io/vega-datasets/data/weather.csv"
                  },
                  "mark": {"type":"line", "tooltip":true, "color":"#565A5C"},
                  "encoding": {
                    "x": {
                      "field": "date",
                      "type":"nominal",
                      //"sort":"y",
                      "axis":{
                        "labelOverlap":"parity",
                        "title":"Date"
                      }
                    },
                    "y": {
                      "field": "precipitation",
                      "type":"quantitative",
                      "axis": {
                        "title":"Precipitaton"
                      }
                    }
                  }
                  };
              </code></pre>
            </section>
				</section>

        <section data-transition="convex">
          <section data-transition="convex">
            <h2>That's great, but we have data on New York and Seattle, so let's display that. </h2>
          </section>

          <section data-transition="zoom">
            Now we can see how the trends differ by city, which gives a much different interpretation.
            <div id="vis-two"></div>
            <script type="text/javascript">
            var spec = {
                  "background":"#CFB87C",
                  "title": {
                    "text":"Precipitaton by City by Date",
                  },
                  "width": 800,
                  "height": 200,
                  "config": {
                    "font":"Helvetica"
                  },
                  "data": {
                    "url": "https://vega.github.io/vega-datasets/data/weather.csv"
                  },
                  "mark": {"type":"line", "tooltip":true},
                  "encoding": {
                    "x": {
                      "field": "date",
                      "type":"nominal",
                      //"sort":"y",
                      "axis":{
                        "labelOverlap":"parity",
                        "title":"Date"
                      }
                    },
                    "y": {
                      "field": "precipitation",
                      "type":"quantitative",
                      "axis": {
                        "title":"Precipitaton"
                      }
                    },
                    "color":{
                      "field":"location",
                    }
                  }
                  };
            var opt = {"renderer": "canvas", "actions": false};
            vegaEmbed("#vis-two", spec, opt);
            </script>
          </section>

          <section>
            This was done quite simply, just add the color field inside the encoding.
            <code><pre>
              "encoding": {
                "color":{
                      "field":"location",
                    }
              }
            </pre></code>
          </section>

        </section>

        <section data-transition="convex">
          <p>This facet allows us to understand the data in a new way. As we can see, Seattle has more consistent rainfall, while New York has some very high spikes in the middle months. From what we already know about these two cities, that seems to make sense.</p>
          
        </section>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/reveal.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,
        slideNumber: 'h/v',
        // Learn about plugins: https://revealjs.com/plugins/
        //plugins: [ RevealHighlight ]
      });
    </script>
	</body>
</html>